<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Installing octopus 6.0 (Serial) in Centos 6.8  - Modeling of Everything</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Shuo" />
  <meta name="description" content="Octopus is a scientific simulation software for solving quantum problem. (http://www.tddft.org/programs/octopus/wiki/index.php/Main_Page)
Recently, there is a new version 6.0 released (2016-09-05), which has a major improvement. Here we try to install it on the Centos 6.8 (with minimal installation)
First, install Centos 6.8 with minimal installation choice. Installation of octopus 6 mainly follow their manual here : http://www.tddft.org/programs/octopus/wiki/index.php/Manual:Building_from_scratch
1. install several compilers to use. You can check your current available compilers by" />

  <meta name="keywords" content="Modeling, Simulation, Coding" />






<meta name="generator" content="Hugo 0.46" />


<link rel="canonical" href="http://shuod.github.io/post/install-octopus-5/" />

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">







<link href="/dist/even.min.css?v=3.2.0" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">




<meta property="og:title" content="Installing octopus 6.0 (Serial) in Centos 6.8 " />
<meta property="og:description" content="Octopus is a scientific simulation software for solving quantum problem. (http://www.tddft.org/programs/octopus/wiki/index.php/Main_Page)
Recently, there is a new version 6.0 released (2016-09-05), which has a major improvement. Here we try to install it on the Centos 6.8 (with minimal installation)
First, install Centos 6.8 with minimal installation choice. Installation of octopus 6 mainly follow their manual here : http://www.tddft.org/programs/octopus/wiki/index.php/Manual:Building_from_scratch
1. install several compilers to use. You can check your current available compilers by" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://shuod.github.io/post/install-octopus-5/" />



<meta property="article:published_time" content="2017-01-14T00:00:00&#43;00:00"/>

<meta property="article:modified_time" content="2017-01-14T00:00:00&#43;00:00"/>











<meta itemprop="name" content="Installing octopus 6.0 (Serial) in Centos 6.8 ">
<meta itemprop="description" content="Octopus is a scientific simulation software for solving quantum problem. (http://www.tddft.org/programs/octopus/wiki/index.php/Main_Page)
Recently, there is a new version 6.0 released (2016-09-05), which has a major improvement. Here we try to install it on the Centos 6.8 (with minimal installation)
First, install Centos 6.8 with minimal installation choice. Installation of octopus 6 mainly follow their manual here : http://www.tddft.org/programs/octopus/wiki/index.php/Manual:Building_from_scratch
1. install several compilers to use. You can check your current available compilers by">


<meta itemprop="datePublished" content="2017-01-14T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2017-01-14T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="560">



<meta itemprop="keywords" content="VPS,Linux,Science," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Installing octopus 6.0 (Serial) in Centos 6.8 "/>
<meta name="twitter:description" content="Octopus is a scientific simulation software for solving quantum problem. (http://www.tddft.org/programs/octopus/wiki/index.php/Main_Page)
Recently, there is a new version 6.0 released (2016-09-05), which has a major improvement. Here we try to install it on the Centos 6.8 (with minimal installation)
First, install Centos 6.8 with minimal installation choice. Installation of octopus 6 mainly follow their manual here : http://www.tddft.org/programs/octopus/wiki/index.php/Manual:Building_from_scratch
1. install several compilers to use. You can check your current available compilers by"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Modeling of Everything</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/post/using-pbs-commands-in-hpc/">
        <li class="mobile-menu-item">Using PBS commands in HPC</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Modeling of Everything</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/using-pbs-commands-in-hpc/">Using PBS commands in HPC</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Installing octopus 6.0 (Serial) in Centos 6.8 </h1>

      <div class="post-meta">
        <span class="post-time"> 2017-01-14 </span>
        <div class="post-category">
            
              <a href="/categories/science/"> Science </a>
            
              <a href="/categories/linux/"> Linux </a>
            
          </div>
        <span class="more-meta"> 560 words </span>
        <span class="more-meta"> 3 mins read </span>
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#first-install-centos-6-8-with-minimal-installation-choice">First, install Centos 6.8 with minimal installation choice.</a></li>
<li><a href="#installation-of-octopus-6">Installation of octopus 6</a>
<ul>
<li><a href="#1-install-several-compilers-to-use">1. install several compilers to use.</a></li>
<li><a href="#2-install-blas">2. Install BLAS</a></li>
<li><a href="#3-install-lapack">3. Install LAPACK</a></li>
<li><a href="#3-installation-of-gsl">3 Installation of GSL</a></li>
<li><a href="#4-installation-of-fftw3">4 Installation of  FFTW3</a></li>
<li><a href="#5-installation-of-libxc-3-0">5 Installation of libxc 3.0</a></li>
<li><a href="#6-installation-of-octopus-6">6 Installation of octopus 6</a>
<ul>
<li><a href="#reference">Reference:</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </div>
</div>

    
    

    
    <div class="post-content">
      

<p>Octopus is a scientific simulation software for solving quantum problem. (<a href="http://www.tddft.org/programs/octopus/wiki/index.php/Main_Page">http://www.tddft.org/programs/octopus/wiki/index.php/Main_Page</a>)</p>

<p>Recently, there is a new version 6.0 released (2016-09-05), which has a major improvement. Here we try to install it on the Centos 6.8 (with minimal installation)</p>

<h2 id="first-install-centos-6-8-with-minimal-installation-choice">First, install Centos 6.8 with minimal installation choice.</h2>

<h2 id="installation-of-octopus-6">Installation of octopus 6</h2>

<p>mainly follow their manual here : <a href="http://www.tddft.org/programs/octopus/wiki/index.php/Manual:Building_from_scratch">http://www.tddft.org/programs/octopus/wiki/index.php/Manual:Building_from_scratch</a></p>

<h3 id="1-install-several-compilers-to-use">1. install several compilers to use.</h3>

<p>You can check your current available compilers by</p>

<pre><code class="language-bash"># search for all available compilers
yum search all compiler
</code></pre>

<p>then install gcc for C and gfortran for FORTRAN and perl etc by</p>

<pre><code class="language-bash"># install some compilers
yum -y install gcc gcc-c++ make libXext-devel perl-Time-HiRes
yum -y groupinstall &quot;Development Tools&quot;
yum -y install libX11-devel mesa-libGL-devel perl-Time-HiRes
yum -y install gcc-gfortran
</code></pre>

<p>There is some note for the compilers:  (<a href="http://www.tddft.org/programs/octopus/wiki/index.php/Manual:Appendix:Compilers#Linux">http://www.tddft.org/programs/octopus/wiki/index.php/Manual:Appendix:Compilers#Linux</a>)</p>

<ul>
<li>gfortran: 4.1.1 or newer, For the parallel version you need at least 4.3; use the same version for compling the blas, lapack and fftw3 (this may cause problem if uses different version with octopus).
Recommended flags:
FCFLAGS=&ldquo;-march=athlon64 -msse2 -mfpmath=sse -malign-double -funroll-loops -O3&rdquo;</li>
<li>g95 : 4.0.3 (g95 0.91) May 24 2007 or newer. Because it doesn&rsquo;t recognize the linemarkers by preprocessor, we need to use -P flag pass it to CPP.
Flag:
FC=g95
FCFLAGS=&ldquo;-O3 -funroll-loops -ffast-math&rdquo;
FCCPP=&ldquo;cpp -ansi-P&rdquo;</li>
</ul>

<p>And setup the target folders:</p>

<pre><code class="language-bash">mkdir -p /opt/octopus6/lib

</code></pre>

<h3 id="2-install-blas">2. Install BLAS</h3>

<p>Download it from <a href="http://www.netlib.org/blas/blas.tgz">http://www.netlib.org/blas/blas.tgz</a> and extract it:</p>

<pre><code class="language-bash">tar -zvxf blas.tgz
cd Blas-3.5.0
</code></pre>

<p>Change the makefile &ldquo;make.inc&rdquo; to add:</p>

<pre><code class="language-bash">FORTRAN  = gfortran
OPTS     = -msse2 -maligh-double -mfpmath=sse -funroll-loops -O3
DRVOPTS  = $(OPTS)
NOOPT    =
LOADER   = gfortran
LOADOPTS =
</code></pre>

<p>then</p>

<pre><code class="language-bash">make
cp blas_LINUX.a /opt/octopus6/lib/libblas.a
</code></pre>

<h3 id="3-install-lapack">3. Install LAPACK</h3>

<p>Download it from <a href="http://www.netlib.org/lapack/lapack.tgz">http://www.netlib.org/lapack/lapack.tgz</a> and extract it</p>

<pre><code>cp make.inc.example make.inc
</code></pre>

<p>Change &ldquo;make.inc&rdquo; to</p>

<pre><code class="language-bash">FORTRAN  = gfortran
OPTS     = -msse2 -maligh-double -mfpmath=sse -funroll-loops -O2
DRVOPTS  = $(OPTS)
NOOPT    =
LOADER   = gfortran
LOADOPTS =
</code></pre>

<p>In the makefile example from LAPACK, they gave -O2 which is different from octopus&rsquo;s manual. I go with &ldquo;-O2&rdquo;</p>

<pre><code class="language-bash">make lib
cp liblapack.a /opt/octopus6/lib/liblapack.a
</code></pre>

<h3 id="3-installation-of-gsl">3 Installation of GSL</h3>

<p>Download GSL (1.16) from  <a href="ftp://ftp.gnu.org/gnu/gsl/">ftp://ftp.gnu.org/gnu/gsl/</a></p>

<p>Extract and configure it as:</p>

<pre><code class="language-bash">./configure --prefix=/opt/gsl CC=&quot;gcc&quot; CFLAGS=&quot;-m64&quot; --disable-shared --enable-static
</code></pre>

<pre><code class="language-bash">make
make install
</code></pre>

<p>Please note the version. It is not clear whether 2.x is supported. But it&rsquo;s safe to use 1.x. Also, if gsl is not properly installed, there might be error in in compiling libxc3 later. So if you got error in libxc3, you could go back to check the gsl.</p>

<h3 id="4-installation-of-fftw3">4 Installation of  FFTW3</h3>

<p>Download FFTW3 (3.3.4) from  <a href="http://www.fftw.org/">http://www.fftw.org/</a></p>

<p>Extract and configure it as:</p>

<pre><code class="language-bash">./configure  --prefix=/usr CC=&quot;gcc&quot; CFLAGS=&quot;-m64&quot; F77=&quot;gfortran&quot; F77FLAGS=&quot;-march=athlon64 -msse2 -mfpmath=sse -malign-double -funroll-loops -O3&quot;
make
make install
</code></pre>

<h3 id="5-installation-of-libxc-3-0">5 Installation of libxc 3.0</h3>

<p>One of the features of octopus 6, is it will use libxc, which has more functionals choices available.</p>

<p>Download libxc 3.0 from <a href="http://www.tddft.org/programs/octopus/down.php?file=libxc/libxc-3.0.0.tar.gz">http://www.tddft.org/programs/octopus/down.php?file=libxc/libxc-3.0.0.tar.gz</a></p>

<pre><code>./configure --prefix=/opt/libxc3 CC=&quot;gcc&quot; CFLAGS=&quot;-m64&quot; FC=&quot;gfortran&quot; FCFLAGS=&quot;-march=athlon64 -msse2 -mfpmath=sse -malign-double -funroll-loops -O3&quot;
make
make install
</code></pre>

<h3 id="6-installation-of-octopus-6">6 Installation of octopus 6</h3>

<p>After properly installed those package, we then define several environment variable before proceed to octopus.</p>

<pre><code class="language-bash">export LIBS_BLAS=/opt/octopus6/lib/libblas.a
export LIBS_LAPACK=/opt/octopus6/lib/liblapack.a
export LIBS_FFT=/usr/lib/libfftw3.a
</code></pre>

<pre><code class="language-bash">./configure CC=&quot;gcc&quot; CFLAGS=&quot;-m64&quot; FC=&quot;gfortran&quot; FCFLAGS=&quot;-msse2 -mfpmath=sse -malign-double -funroll-loops -O3&quot; --prefix=/opt/octopus6 --with-gsl-prefix=/opt/gsl --with-libxc-prefix=/opt/libxc3

make
make install
</code></pre>

<p>There are also other switches for ./configure for octopus 6 and I just list them here (from [1]):</p>

<pre><code class="language-bash"># ./configure 
--prefix=/usr/local/octopus-6.0.0  \
--with-libxc-prefix=/usr/local/libxc-2.1.2 \
--with-libxc-include=/usr/local/libxc-2.1.2/include \
--with-gsl-prefix=/usr/local/gsl-1.16 \
--with-blas=/usr/lib64/libblas.a \ 
--with-arpack=/usr/lib64/libarpack.so.2 \ 
--with-fft-lib=&quot;-L/usr/local/fftw-3.3.3-single/lib&quot; \
--disable-zdotc-test \
--enable-single \
--enable-mpi
</code></pre>

<h4 id="reference">Reference:</h4>

<ol>
<li>Basic Configuration of Octopus 5.0.0 with OpenMPI on CentOS 6</li>
</ol>

<p>(<a href="https://linuxcluster.wordpress.com/2015/12/15/basic-configuration-of-octopus-5-0-0-with-openmpi-on-centos-6/">https://linuxcluster.wordpress.com/2015/12/15/basic-configuration-of-octopus-5-0-0-with-openmpi-on-centos-6/</a>)</p>

<ol>
<li>Official manual for general install.</li>
</ol>

<p><a href="http://www.tddft.org/programs/octopus/wiki/index.php/Manual:Building_from_scratch">http://www.tddft.org/programs/octopus/wiki/index.php/Manual:Building_from_scratch</a></p>

    </div>

    
    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">Shuo</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">2017-01-14</span>
  </p>
  <p class="copyright-item">
      <span class="item-title">Markdown</span>
      <span class="item-content"><a class="link-to-markdown" href="http://shuod.github.io/post/install-octopus-5/index.txt" target="_blank">The Markdown version »</a></span>
    </p>
  <p class="copyright-item">
    <span class="item-title">License</span>
    <span class="item-content">MIT</span>
  </p>
</div>

    
    

    <footer class="post-footer">
      <div class="post-tags">
          
          <a href="/tags/vps/">VPS</a>
          
          <a href="/tags/linux/">Linux</a>
          
          <a href="/tags/science/">Science</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/a-good-way-to-improve-writing/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">A good way to improve writing</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
          <a class="next" href="/post/upgrade-python3-centos6-deploy-flask/">
            <span class="next-text nav-default">Upgrade python to version 3.5 in Centos 6.8 and deploy flask web app framework  (updated on 20170604)</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        
  <div id="disqus_thread"></div>
    <script type="text/javascript">
    (function() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'modeling-of-everything';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="https://github.com/shuod" class="iconfont icon-github" title="github"></a>
  <a href="http://shuod.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    
      2016 - 
    2018
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Shuo</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
<script src="/lib/highlight/highlight.pack.js?v=20171001"></script><script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>


<script type="text/javascript" src="/dist/even.min.js?v=3.2.0"></script>








</body>
</html>
